<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STYLEME</title>
    <link href="style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://use.typekit.net/yxb5sur.css">
</head>
<body>
    <a href="landing.html" class="start-button">Back</a>
    <div class="parent">
    <div class="tabs">
    <div class="worko-tabs">
  
        <input class="state" type="radio" title="tab-one" name="tabs-state" id="tab-one" checked />
        <input class="state" type="radio" title="tab-two" name="tabs-state" id="tab-two" />
        <input class="state" type="radio" title="tab-three" name="tabs-state" id="tab-three" />
        <input class="state" type="radio" title="tab-four" name="tabs-state" id="tab-four" />
        <input class="state" type="radio" title="tab-five" name="tabs-state" id="tab-five" />

    
        <div class="tabs flex-tabs">
            <label for="tab-one" id="tab-one-label" class="tab">Tops</label>
            <label for="tab-two" id="tab-two-label" class="tab">Bottoms</label>
            <label for="tab-three" id="tab-three-label" class="tab">Dresses</label>
            <label for="tab-four" id="tab-four-label" class="tab">Bags</label>
            <label for="tab-five" id="tab-five-label" class="tab">Shoes</label>

    
            <div id="tab-one-panel" class="panel active">
                <div class="image-grid">
                    <img src="img/Top 1.png" alt="Image 1" draggable="true">
                    <img src="img/Top 2.png" alt="Image 2">
                    <img src="img/Top 8.png" alt="Image 8">
                    <img src="img/Top 3.png" alt="Image 3">
                    <img src="img/Top 4.png" alt="Image 4">
                    <img src="img/Top 5.png" alt="Image 5">
                    <img src="img/Top 6.png" alt="Image 6">
                    <img src="img/Top 12.png" alt="Image 12">
                    <img src="img/Top 10.png" alt="Image 10">
                    <img src="img/Top 9.png" alt="Image 9">
                    <img src="img/Top 11.png" alt="Image 11">
                    <img src="img/Top 7.png" alt="Image 7">
                    <img src="img/Top 13.png" alt="Image 13">
                    <img src="img/Top 14.png" alt="Image 14">
                    <img src="img/Top 15.png" alt="Image 15">
                    <img src="img/Top 16.png" alt="Image 16">
                    <img src="img/Top 18.png" alt="Image 18">
                    <img src="img/Top 17.png" alt="Image 17">
                
                </div>

            </div>
            <div id="tab-two-panel" class="panel">
                <div class="image-grid">
                    <img src="img/Skirt 11.png" alt="Image 11">
                    <img src="img/Skirt 3.png" alt="Image 3">
                    <img src="img/Skirt 4.png" alt="Image 4">
                    <img src="img/Skirt 5.png" alt="Image 5">
                    <img src="img/Skirt 9.png" alt="Image 9">
                    <img src="img/Skirt 7.png" alt="Image 7">
                    <img src="img/Skirt 15.png" alt="image 15">
                    <img src="img/Skirt 6.png" alt="Image 6">
                    <img src="img/Skirt 12.png" alt="Image 12">
                    <img src="img/Skirt 13.png" alt="image 13">
                    <img src="img/Skirt 14.png" alt="image 14">
                    <img src="img/Skirt 8.png" alt="Image 8">
                    <img src="img/Skirt 1.png" alt="Image 1" draggable="true">
                    <img src="img/Skirt 2.png" alt="Image 2">
                    <img src="img/Skirt 10.png" alt="Image 10">
                    <img src="img/Pants 2.png" alt="Image 2">
                    <img src="img/Pants 3.png" alt="Image 3">
                    <img src="img/Pants 4.png" alt="Image 4">
                    <img src="img/Pants 5.png" alt="Image 5">
                    <img src="img/Pants 6.png" alt="Image 6">
                    <img src="img/Pants 1.png" alt="Image 1">





                </div>

            </div>
            <div id="tab-three-panel" class="panel">
                <div class="image-grid">
                    <img src="img/Dress 4.png" alt="Image 4">
                    <img src="img/Dress 5.png" alt="Image 5">
                    <img src="img/Dress 6.png" alt="Image 6">
                    <img src="img/Dress 7.png" alt="Image 7">
                    <img src="img/Dress 8.png" alt="Image 8">
                    <img src="img/Dress 9.png" alt="Image 9">
                    <img src="img/Dress 10.png" alt="Image 10">
                    <img src="img/Dress 11.png" alt="Image 11">
                    <img src="img/Dress 12.png" alt="Image 12">
                    <img src="img/Dress 1.png" alt="Image 1" draggable="true">
                    <img src="img/Dress 2.png" alt="Image 2">
                    <img src="img/Dress 3.png" alt="Image 3">
                </div>

            </div>
            <div id="tab-four-panel" class="panel">
                <div class="image-grid">
                    <img src="img/Bag 1.png" alt="Image 1" draggable="true">
                    <img src="img/Bag 2.png" alt="Image 2">
                    <img src="img/Bag 3.png" alt="Image 3">
                    <img src="img/Bag 4.png" alt="Image 4">
                    <img src="img/Bag 5.png" alt="Image 5">
                    <img src="img/Bag 6.png" alt="Image 6">
                    <img src="img/Bag 7.png" alt="Image 7">
                    <img src="img/Bag 8.png" alt="Image 8">
                    <img src="img/Bag 9.png" alt="Image 9">
                </div>
            </div>

            <div id="tab-five-panel" class="panel">
                <div class="image-grid">
                    <img src="img/Shoes 1.png" alt="Image 1" draggable="true">
                    <img src="img/Shoes 2.png" alt="Image 2">
                    <img src="img/Shoes 3.png" alt="Image 3">
                    <img src="img/Shoes 4.png" alt="Image 4">
                    <img src="img/Shoes 5.png" alt="Image 5">
                    <img src="img/Shoes 6.png" alt="Image 6">
                    <img src="img/Shoes 7.png" alt="Image 7">
                    <img src="img/Shoes 8.png" alt="Image 8">
                    <img src="img/Shoes 9.png" alt="Image 9">
                </div>
            </div>
        </div>
       
        </div>
    
    </div>

</div>
<div class="constant" id="drop-zone">
    <p>
        <br>
        <br>
        Drag outfit here!</p>
        <a href="index.html" class="restart-button">Restart</a>
     
        <button id="imageButton">Done</button>
<div id="imageContainer" style="display: none;">
    <img src="img/clump 1.gif" alt="Image 1" class="hidden-image">
    <img src="img/clump 2.gif" alt="Image 2" class="hidden-image2">
</div>

</div> 






   </div> 
</body>
</html>



<script>
 const dropZone = document.querySelector('.constant');
const imageGrid = document.querySelector('.image-grid'); // Reference to the grid
let originalImage = null; // Variable to store the original image

// Function to handle when an image is being dragged
const images = document.querySelectorAll('.image-grid img');
images.forEach(img => {
    img.setAttribute('draggable', 'true');
    
    img.addEventListener('dragstart', (e) => {
        console.log("Drag started with image: ", e.target.src);
        // Store the image source during the drag start
        e.dataTransfer.setData('text/plain', e.target.src);
        e.target.classList.add('dragging');
    });
});

// Allow the drop event by preventing default behavior during dragover
dropZone.addEventListener('dragover', (e) => {
    e.preventDefault();  // This enables the drop event
    console.log("Image is over the drop zone");
});

// Handle the drop event to place the image
dropZone.addEventListener('drop', (e) => {
    e.preventDefault(); // Prevent default handling of the drop

    // Get the mouse position where the image will be dropped
    const mouseX = e.clientX;
    const mouseY = e.clientY;

    console.log("Dropping image at: ", mouseX, mouseY);

    const imgSrc = e.dataTransfer.getData('text/plain'); // Get the image source being dragged
    if (!imgSrc) return; // If no image is dragged, exit

    
    const img = document.createElement('img');
    img.src = imgSrc; // Set the image source
    img.draggable = true; // Make the newly added image draggable as well
    img.style.width = '150px'; // Set the image width
    img.style.height = 'auto'; // Maintain aspect ratio
    img.style.position = 'absolute'; // Use absolute positioning
    img.style.left = `${mouseX - 75}px`; // Position the image at the drop location (centered)
    img.style.top = `${mouseY - 100}px`; // Position the image at the drop location (centered)
    img.style.cursor = 'grab'; // Visual feedback to show the image is draggable


// Make sure the image appears **inside** `.constant`
const dropRect = dropZone.getBoundingClientRect();
    img.style.left = `${e.clientX - dropRect.left - 75}px`; // Position relative to `.constant`
    img.style.top = `${e.clientY - dropRect.top - 100}px`; // Position relative to `.constant`





    console.log("New image added with source: ", img.src);

    // Store reference to the original image that was dropped
    originalImage = imgSrc;

    // Disable dragging for the dropped image
    img.setAttribute('draggable', 'false');

    // Attach dragstart event for the newly added image to make it draggable in the future
    img.addEventListener('dragstart', (e) => {
        console.log("Drag started with newly added image: ", e.target.src);
        e.dataTransfer.setData('text/plain', e.target.src); // Store the image source during the drag start
    });

    dropZone.appendChild(img); // Add the image to the drop zone

    let droppedImages = new Map(); // Store images based on their original src


    // **Hide the original image once it's dropped**
    const draggedImg = document.querySelector('.dragging'); // Get the reference to the dragged image
    draggedImg.style.display = 'none'; // Hide it by setting display to 'none'
    draggedImg.classList.remove('dragging'); // Remove the dragging class
});

// Allow images inside .constant to be repositioned by dragging
dropZone.addEventListener('mousedown', (e) => {
    if (e.target.tagName.toLowerCase() === 'img') {
        const draggedImg = e.target;
        const offsetX = e.clientX - draggedImg.offsetLeft;
        const offsetY = e.clientY - draggedImg.offsetTop;

        const moveImage = (moveEvent) => {
            draggedImg.style.left = `${moveEvent.clientX - offsetX}px`;
            draggedImg.style.top = `${moveEvent.clientY - offsetY}px`;
        };

        const stopImageMove = () => {
            document.removeEventListener('mousemove', moveImage);
            document.removeEventListener('mouseup', stopImageMove);
        };

        document.addEventListener('mousemove', moveImage);
        document.addEventListener('mouseup', stopImageMove);
    }
});

// **Double-click functionality to put back the image to its original grid**
dropZone.addEventListener('dblclick', (e) => {
    if (e.target.tagName.toLowerCase() === 'img' && originalImage) {
        const img = e.target;
        // Check if the image is the one we want to restore (based on the src)
        if (img.src === originalImage) {
            // Reset the original image's display, position, and make it draggable again
            const restoredImg = document.querySelector(`.image-grid img[src="${originalImage}"]`);
            if (restoredImg) {
                restoredImg.style.display = 'block'; // Make it visible again
                restoredImg.setAttribute('draggable', 'true');
                restoredImg.style.position = ''; // Reset positioning
                restoredImg.style.left = ''; // Reset any custom left position
                restoredImg.style.top = ''; // Reset any custom top position

                // Re-add the original image to the grid
                imageGrid.appendChild(restoredImg);

                // Remove the image from the drop zone
                img.remove(); // Remove the image that was double-clicked in the drop zone
            }
        }
    }
});



document.getElementById("imageButton").addEventListener("click", function() {
  document.getElementById("imageContainer").style.display = "flex";
  this.disabled = true; // Disable button after first click
});

document.getElementById("imageButton").addEventListener("click", function() {
  document.getElementById("imageContainer").style.display = "flex";
  this.disabled = true; // Disable button after first click

  // Change the paragraph text
  const paragraph = document.querySelector(".constant p");
  paragraph.innerHTML = "Your outfit is complete!";
});



</script>